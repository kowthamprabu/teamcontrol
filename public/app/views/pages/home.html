<!-- ng-if="main.loggedIn" -->
<div class="jumbotron text-center" ng-if="!main.loggedIn">

	<div>
		<h1>Please signup to use this app!</h1>			
	</div>
	
	<div>
		<p>Click below here to login</p>
		<a href="/login" class="btn btn-primany" >Login</a>	
	</div>

</div>
<!--ng-if="main.loggedIn" -->
<div class="row" ng-if="main.loggedIn" ng-controller="ChatController as chat">
	

       <div class="col-md-3 left col-md-offset-0">
          <div class="portlet-default">
             <div class="portlet-heading">
             	<form name="AddUser" ng-submit="chat.addUsers(chat.chat_user)">
       		     <div class="input-group">
                     <input type="text" name="addUser" ng-model="chat.chat_user" class="form-control input-lg" placeholder="..." required />
                     <span class="input-group-btn">
			              	 <!--<button class="btn btn-default btn-primary search-form" type="button">Add User</button> --> 
			              	<input type="submit" class="btn btn-default pull-right" value="Add User"/>
			              	<div class="clearfix"></div>
         				</span>
                 </div>
               </form>
            	  <div class="well" style="overflow-y: auto; width: auto; height: 200px;"> 
         	         <li ng-show="chat.showCheckAll" style="color: blue; list-style: none;padding-left: 30%;">
				            <input id="CheckAllBox" type="checkbox" value="Select All" style="padding-left: 20%;"  ng-model="chat.selectedAll" ng-click="chat.checkAll(chat.selectedAll)"  /> Select All
        					</li>
        				 <ul class="list-group checked-list-box" style="color: grey;">
   	                 <li class="list-group-item" ng-repeat="User in chat.chatUserList">
	   	                 <div class="nav nav-list" style="padding-left: 10%;">
							       <div style="float:left;">	   	                   
	   							 <label style="backgroundcolor: white;" for="{{User.user}}">
	      							<input id="{{User.user}}" type="checkbox" value="{{User.user}}" ng-checked="chat.selection.indexOf(User.user) > -1" ng-click="chat.toggleSelection(User.user)" /> 
	      							{{User.user}}
	   							 </label>
	   							 </div>
	   							 <div style="float:right;position: relative;">	
	   							 <span><button type="submit" style="background-color:white;border: none;color:red;" class="glyphicon glyphicon-remove" ng-click="chat.chatUserDelete(User.user)"></span>
	   							 </div>
								  </div>
  							  </li>

                 	 </ul>
            	  </div>
             </div>    
          </div>
        </div>   


        <div class="col-md-4 col-md-offset-0" style="float:right">
            <div class="portlet portlet-default">
                <div class="portlet-heading">
                    <div class="portlet-title">
                        <h4><i class="fa fa-circle text-green"></i>Team Control</h4> 
                    </div>
                    <div class="portlet-widgets">
                        <div class="btn-group" style="top:8px">
                            <button type="button" class="btn btn-white dropdown-toggle btn-xs" data-toggle="dropdown">
                                <i class="fa fa-circle text-green"></i> Status
                                <span class="caret"></span>	
                            </button>
                            <ul class="dropdown-menu" role="menu" >
                                <li><a href="#"><i class="fa fa-circle text-green"></i> Online</a>
                                </li>
                                <li><a href="#"><i class="fa fa-circle text-orange"></i> Away</a>
                                </li>
                                <li><a href="#"><i class="fa fa-circle text-red"></i> Offline</a>
                                </li>
                            </ul>
                        </div>
                        <span class="divider"></span>
                        <a data-toggle="collapse" data-parent="#accordion" href="#chat"><i class="fa fa-chevron-down"></i></a>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div id="chat" class="panel-collapse collapse in">
                    <div>
                    <div class="portlet-body chat-widget" style="overflow: auto; width: auto; height: 300px;" schroll-bottom="chat.chat">
                        <div class="row" >
                            <div class="col-lg-12">
                                <p class="text-center text-muted small">{{chat.date_value | date:'MMMM d, yyyy'}}</p>
                            </div>
                        </div>
                        <div class="row">

                            <div class="col-lg-12" >
                                <div class="media" ng-repeat="msg in chat.chat"> 
                                    <!--<a class="pull-left" href="#">
                                        <img class="media-object img-circle" src="http://lorempixel.com/30/30/people/1/" alt="">
                                    </a> -->
                                    <div class="media-body" >
                                        <h4 class="media-heading">{{msg.fromUser}} :
                                            <span class="small pull-right">{{msg.Created | date:'HH:mm'}}</span>
                                        </h4>
                                        <p>>> {{msg.Message}} </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    </div>
                    <div class="portlet-footer">
                        <form ng-submit="chat.createChat()">
                            <div class="input-group">
                                <!--<textarea class="form-control input-lg" ng-model="chat.chatData.Message" name="chatWindow" placeholder="Enter message..."></textarea> -->
                                <input class="form-control" type="text" name="chatWindow" ng-model="chat.chatData.Message" placeholder="..." />  
                                <span class="input-group-btn">  
                                		<input type="submit" value="submit" class="btn btn-primary" />
                                </span> 
                            </div>
                            
                        </form>
                    </div>
                </div>
            </div>
        </div>
        

<!--	<div class="col-md-3" >
			<div class="row">
			<div class="panel panel-primary">
				<div class="panel-heading"> Type the message</div>
				<div class="panel-body">
					<form ng-submit="chat.createChat()">
						<input class="form-control input-lg" type="text" name="chatWindow1" ng-model="chat.chatData.Message" placeholder="..."/>					
					</form>
				</div>
			</div>	
			<div class="panel panel-success">
				<div class="panel-heading">Chat History</div>
				<div class="panel-body" ng-repeat="msg in chat.chat">
					<p>{{msg.Created}}: {{msg.Message}}</p>
				</div>
			</div>	
		</div>
	</div> -->


<!--	<div class="col-md-4">
			
	</div> -->
	
</div>